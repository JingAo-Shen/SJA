<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Javaå…¨æ ˆå¼€å‘çŸ¥è¯†å›¾è°±</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            font-family: 'Microsoft YaHei', Arial, sans-serif;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 100%);
            color: white;
            overflow: hidden;
        }
        
        .header {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background: rgba(0,0,0,0.8);
            padding: 15px;
            z-index: 1000;
            backdrop-filter: blur(10px);
        }
        
        .header h1 {
            text-align: center;
            font-size: 1.8rem;
            margin-bottom: 10px;
        }
        
        .controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            flex-wrap: wrap;
        }
        
        .control-btn {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 20px;
            cursor: pointer;
            font-size: 12px;
            transition: all 0.3s ease;
        }
        
        .control-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 4px 12px rgba(0,0,0,0.3);
        }
        
        .control-btn.active {
            background: linear-gradient(135deg, #fd79a8, #e84393);
        }
        
        #knowledge-graph {
            width: 100vw;
            height: 100vh;
            margin-top: 80px;
        }
        
        .tooltip {
            position: absolute;
            background: rgba(0,0,0,0.9);
            color: white;
            padding: 10px;
            border-radius: 8px;
            font-size: 12px;
            pointer-events: none;
            z-index: 1001;
            max-width: 300px;
            line-height: 1.4;
            display: none;
        }
        
        .legend {
            position: fixed;
            bottom: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            max-width: 200px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            margin-bottom: 8px;
            font-size: 12px;
        }
        
        .legend-color {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            margin-right: 8px;
        }
        
        .info-panel {
            position: fixed;
            top: 80px;
            right: 20px;
            background: rgba(0,0,0,0.8);
            padding: 15px;
            border-radius: 10px;
            backdrop-filter: blur(10px);
            max-width: 250px;
            display: none;
        }
    </style>
</head>
<body>
    <div class="header">
        <h1>ğŸ§  Javaå…¨æ ˆå¼€å‘çŸ¥è¯†å›¾è°±</h1>
        <div class="controls">
            <button class="control-btn active" onclick="showAllNodes()">æ˜¾ç¤ºå…¨éƒ¨</button>
            <button class="control-btn" onclick="filterByCategory('æ ¸å¿ƒè¯­è¨€')">Javaæ ¸å¿ƒ</button>
            <button class="control-btn" onclick="filterByCategory('Webå¼€å‘')">Webå¼€å‘</button>
            <button class="control-btn" onclick="filterByCategory('æ¡†æ¶æŠ€æœ¯')">æ¡†æ¶æŠ€æœ¯</button>
            <button class="control-btn" onclick="filterByCategory('å¾®æœåŠ¡')">å¾®æœåŠ¡</button>
            <button class="control-btn" onclick="resetGraph()">é‡ç½®</button>
            <a href="../index.html" class="control-btn" style="text-decoration: none;">è¿”å›é¦–é¡µ</a>
        </div>
    </div>
    
    <div id="knowledge-graph"></div>
    
    <div class="tooltip" id="tooltip"></div>
    
            <div class="legend">
            <h4 style="margin-bottom: 10px;">èŠ‚ç‚¹ç±»å‹</h4>
            <div class="legend-item">
                <div class="legend-color" style="background: #ff6b6b;"></div>
                <span>æ ¸å¿ƒè¯­è¨€</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #4ecdc4;"></div>
                <span>Webå¼€å‘</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #45b7d1;"></div>
                <span>æ•°æ®å¤„ç†</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #96ceb4;"></div>
                <span>æ¡†æ¶æŠ€æœ¯</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #feca57;"></div>
                <span>å¾®æœåŠ¡</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #ff9ff3;"></div>
                <span>å·¥å…·éƒ¨ç½²</span>
            </div>
            
            <h4 style="margin: 15px 0 10px 0;">æ“ä½œæŒ‡å—</h4>
            <div style="font-size: 11px; line-height: 1.5;">
                <div>ğŸ–±ï¸ æ»šè½®ç¼©æ”¾</div>
                <div>ğŸ–ï¸ æ‹–æ‹½å¹³ç§»</div>
                <div>ğŸ‘† ç‚¹å‡»èŠ‚ç‚¹å­¦ä¹ </div>
                <div>ğŸ¯ æ‚¬åœæŸ¥çœ‹è¯¦æƒ…</div>
            </div>
        </div>
    
    <div class="info-panel" id="info-panel">
        <h4 id="node-title"></h4>
        <p id="node-description"></p>
        <div id="node-relations"></div>
    </div>
    
    <script>
        // çŸ¥è¯†å›¾è°±æ•°æ® - çœŸå®çš„è¯­ä¹‰å…³ç³»ç½‘ç»œ
        const knowledgeData = {
            nodes: [
                // æ ¸å¿ƒè¯­è¨€å±‚
                {id: "Java", name: "Javaè¯­è¨€", category: "æ ¸å¿ƒè¯­è¨€", level: 1, 
                 description: "é¢å‘å¯¹è±¡çš„ç¼–ç¨‹è¯­è¨€ï¼Œå¹³å°æ— å…³æ€§ï¼Œå¼ºç±»å‹", 
                 link: "Javaè¯­è¨€.html"},
                {id: "OOP", name: "é¢å‘å¯¹è±¡", category: "æ ¸å¿ƒè¯­è¨€", level: 2,
                 description: "å°è£…ã€ç»§æ‰¿ã€å¤šæ€ä¸‰å¤§ç‰¹æ€§", 
                 link: "é¢å‘å¯¹è±¡.html"},
                {id: "JVM", name: "Javaè™šæ‹Ÿæœº", category: "æ ¸å¿ƒè¯­è¨€", level: 2,
                 description: "å­—èŠ‚ç æ‰§è¡Œç¯å¢ƒï¼Œåƒåœ¾å›æ”¶ï¼Œå†…å­˜ç®¡ç†", 
                 link: "Javaè™šæ‹Ÿæœº.html"},
                {id: "Collection", name: "é›†åˆæ¡†æ¶", category: "æ ¸å¿ƒè¯­è¨€", level: 3,
                 description: "Listã€Setã€Mapç­‰æ•°æ®ç»“æ„", 
                 link: "é›†åˆæ¡†æ¶.html"},
                {id: "Thread", name: "å¤šçº¿ç¨‹", category: "æ ¸å¿ƒè¯­è¨€", level: 3,
                 description: "å¹¶å‘ç¼–ç¨‹ï¼ŒåŒæ­¥æœºåˆ¶ï¼Œçº¿ç¨‹æ± ", 
                 link: "å¤šçº¿ç¨‹.html"},
                {id: "Reflection", name: "åå°„æœºåˆ¶", category: "æ ¸å¿ƒè¯­è¨€", level: 4,
                 description: "è¿è¡Œæ—¶è·å–ç±»ä¿¡æ¯ï¼ŒåŠ¨æ€è°ƒç”¨", 
                 link: "åå°„æœºåˆ¶.html"},
                {id: "Annotation", name: "æ³¨è§£", category: "æ ¸å¿ƒè¯­è¨€", level: 4,
                 description: "å…ƒæ•°æ®æ ‡è®°ï¼Œä»£ç é…ç½®", 
                 link: "æ³¨è§£.html"},
                
                // Webå¼€å‘å±‚
                {id: "HTTP", name: "HTTPåè®®", category: "Webå¼€å‘", level: 1,
                 description: "è¶…æ–‡æœ¬ä¼ è¾“åè®®ï¼Œæ— çŠ¶æ€", 
                 link: "HTTPåè®®.html"},
                {id: "Servlet", name: "Servlet", category: "Webå¼€å‘", level: 2,
                 description: "Java Webåº”ç”¨æ ¸å¿ƒç»„ä»¶", 
                 link: "Servlet.html"},
                {id: "JSP", name: "JSP", category: "Webå¼€å‘", level: 3,
                 description: "JavaæœåŠ¡å™¨é¡µé¢æŠ€æœ¯", 
                 link: "JSP.html"},
                {id: "Filter", name: "è¿‡æ»¤å™¨", category: "Webå¼€å‘", level: 3,
                 description: "è¯·æ±‚æ‹¦æˆªå¤„ç†", 
                 link: "è¿‡æ»¤å™¨.html"},
                {id: "Session", name: "ä¼šè¯ç®¡ç†", category: "Webå¼€å‘", level: 3,
                 description: "ç”¨æˆ·çŠ¶æ€ä¿æŒ", 
                 link: "ä¼šè¯ç®¡ç†.html"},
                {id: "AJAX", name: "AJAX", category: "Webå¼€å‘", level: 4,
                 description: "å¼‚æ­¥JavaScriptå’ŒXML", 
                 link: "AJAX.html"},
                {id: "JSON", name: "JSON", category: "Webå¼€å‘", level: 2,
                 description: "è½»é‡çº§æ•°æ®äº¤æ¢æ ¼å¼", 
                 link: "JSON.html"},
                
                // æ•°æ®å¤„ç†å±‚
                {id: "JDBC", name: "JDBC", category: "æ•°æ®å¤„ç†", level: 2,
                 description: "Javaæ•°æ®åº“è¿æ¥API", 
                 link: "../JavaSEæ•™ç¨‹/index.html"},
                {id: "MySQL", name: "MySQL", category: "æ•°æ®å¤„ç†", level: 1,
                 description: "å…³ç³»å‹æ•°æ®åº“ç®¡ç†ç³»ç»Ÿ", 
                 link: "../MySQLæ•™ç¨‹/index.html"},
                {id: "MyBatis", name: "MyBatis", category: "æ•°æ®å¤„ç†", level: 3,
                 description: "æŒä¹…å±‚æ¡†æ¶ï¼ŒSQLæ˜ å°„", 
                 link: "../MyBatisæ•™ç¨‹/index.html"},
                {id: "Transaction", name: "äº‹åŠ¡ç®¡ç†", category: "æ•°æ®å¤„ç†", level: 3,
                 description: "ACIDç‰¹æ€§ï¼Œæ•°æ®ä¸€è‡´æ€§", 
                 link: "../MyBatisæ•™ç¨‹/index.html"},
                {id: "ConnectionPool", name: "è¿æ¥æ± ", category: "æ•°æ®å¤„ç†", level: 4,
                 description: "æ•°æ®åº“è¿æ¥å¤ç”¨", 
                 link: "../MySQLæ•™ç¨‹/index.html"},
                
                // æ¡†æ¶æŠ€æœ¯å±‚
                {id: "Spring", name: "Springæ¡†æ¶", category: "æ¡†æ¶æŠ€æœ¯", level: 3,
                 description: "ä¼ä¸šçº§åº”ç”¨å¼€å‘æ¡†æ¶", 
                 link: "Springæ¡†æ¶.html"},
                {id: "IoC", name: "æ§åˆ¶åè½¬", category: "æ¡†æ¶æŠ€æœ¯", level: 4,
                 description: "å¯¹è±¡åˆ›å»ºå’Œä¾èµ–ç®¡ç†", 
                 link: "æ§åˆ¶åè½¬.html"},
                {id: "AOP", name: "é¢å‘åˆ‡é¢", category: "æ¡†æ¶æŠ€æœ¯", level: 4,
                 description: "æ¨ªåˆ‡å…³æ³¨ç‚¹åˆ†ç¦»", 
                 link: "é¢å‘åˆ‡é¢.html"},
                {id: "SpringMVC", name: "Spring MVC", category: "æ¡†æ¶æŠ€æœ¯", level: 4,
                 description: "MVC Webæ¡†æ¶", 
                 link: "../Springæ¡†æ¶æ•™ç¨‹/index.html"},
                {id: "SSM", name: "SSMæ¡†æ¶", category: "æ¡†æ¶æŠ€æœ¯", level: 4,
                 description: "Spring+SpringMVC+MyBatisæ•´åˆ", 
                 link: "../SSMæ¡†æ¶å¼€å‘/index.html"},
                {id: "SpringBoot", name: "Spring Boot", category: "æ¡†æ¶æŠ€æœ¯", level: 5,
                 description: "ç®€åŒ–Springé…ç½®", 
                 link: "../SpringBootæ•™ç¨‹/index.html"},
                {id: "AutoConfig", name: "è‡ªåŠ¨é…ç½®", category: "æ¡†æ¶æŠ€æœ¯", level: 5,
                 description: "çº¦å®šä¼˜äºé…ç½®", 
                 link: "../SpringBootæ•™ç¨‹/index.html"},
                {id: "Thymeleaf", name: "Thymeleaf", category: "Webå¼€å‘", level: 4,
                 description: "Javaæ¨¡æ¿å¼•æ“", 
                 link: "../SpringBootThymeleafæ•™ç¨‹/index.html"},
                {id: "Pay", name: "æ”¯ä»˜é›†æˆ", category: "Webå¼€å‘", level: 5,
                 description: "æ”¯ä»˜å®æ”¯ä»˜é›†æˆ", 
                 link: "../SpringBootæ”¯ä»˜å®æ•™ç¨‹/index.html"},
                {id: "UserActivation", name: "ç”¨æˆ·æ¿€æ´»", category: "Webå¼€å‘", level: 4,
                 description: "ç”¨æˆ·æ³¨å†Œæ¿€æ´»æµç¨‹", 
                 link: "../ç”¨æˆ·æ³¨å†Œæ¿€æ´»æ•™ç¨‹/index.html"},
                {id: "RESTful", name: "RESTful API", category: "Webå¼€å‘", level: 4,
                 description: "RESTæ¶æ„é£æ ¼APIè®¾è®¡", 
                 link: "../RESTfulæ•™ç¨‹/index.html"},
                {id: "Scrum", name: "æ•æ·å¼€å‘", category: "å·¥å…·éƒ¨ç½²", level: 2,
                 description: "Scrumæ•æ·å¼€å‘æ–¹æ³•", 
                 link: "../Scrumæ•æ·å¼€å‘æ•™ç¨‹/index.html"},
                {id: "Fiddler", name: "æŠ“åŒ…å·¥å…·", category: "å·¥å…·éƒ¨ç½²", level: 2,
                 description: "HTTPæŠ“åŒ…åˆ†æå·¥å…·", 
                 link: "../Fiddleræ•™ç¨‹/index.html"},
                
                // å¾®æœåŠ¡å±‚
                {id: "Microservices", name: "å¾®æœåŠ¡æ¶æ„", category: "å¾®æœåŠ¡", level: 5,
                 description: "åˆ†å¸ƒå¼ç³»ç»Ÿæ¶æ„æ¨¡å¼", 
                 link: "å¾®æœåŠ¡æ¶æ„.html"},
                {id: "SpringCloud", name: "Spring Cloud", category: "å¾®æœåŠ¡", level: 6,
                 description: "å¾®æœåŠ¡å¼€å‘æ¡†æ¶", 
                 link: "../SpringCloudå¾®æœåŠ¡å¼€å‘/index.html"},
                {id: "Eureka", name: "æœåŠ¡æ³¨å†Œ", category: "å¾®æœåŠ¡", level: 6,
                 description: "æœåŠ¡æ³¨å†Œä¸å‘ç°", 
                 link: "æœåŠ¡æ³¨å†Œ.html"},
                {id: "Ribbon", name: "è´Ÿè½½å‡è¡¡", category: "å¾®æœåŠ¡", level: 6,
                 description: "å®¢æˆ·ç«¯è´Ÿè½½å‡è¡¡", 
                 link: "è´Ÿè½½å‡è¡¡.html"},
                {id: "Hystrix", name: "æ–­è·¯å™¨", category: "å¾®æœåŠ¡", level: 6,
                 description: "æœåŠ¡ç†”æ–­é™çº§", 
                 link: "æ–­è·¯å™¨.html"},
                {id: "Gateway", name: "ç½‘å…³", category: "å¾®æœåŠ¡", level: 6,
                 description: "APIç»Ÿä¸€å…¥å£", 
                 link: "ç½‘å…³.html"},
                {id: "Config", name: "é…ç½®ä¸­å¿ƒ", category: "å¾®æœåŠ¡", level: 6,
                 description: "é›†ä¸­é…ç½®ç®¡ç†", 
                 link: "é…ç½®ä¸­å¿ƒ.html"},
                
                // å·¥å…·éƒ¨ç½²å±‚
                {id: "Maven", name: "Maven", category: "å·¥å…·éƒ¨ç½²", level: 2,
                 description: "é¡¹ç›®ç®¡ç†æ„å»ºå·¥å…·", 
                 link: "../Mavenæ•™ç¨‹/index.html"},
                {id: "Git", name: "Git", category: "å·¥å…·éƒ¨ç½²", level: 2,
                 description: "åˆ†å¸ƒå¼ç‰ˆæœ¬æ§åˆ¶", 
                 link: "../Gitæ•™ç¨‹/index.html"},
                {id: "Docker", name: "Docker", category: "å·¥å…·éƒ¨ç½²", level: 5,
                 description: "å®¹å™¨åŒ–æŠ€æœ¯", 
                 link: "../Dockeræ•™ç¨‹/index.html"},
                {id: "Nginx", name: "Nginx", category: "å·¥å…·éƒ¨ç½²", level: 3,
                 description: "WebæœåŠ¡å™¨åå‘ä»£ç†", 
                 link: "../Nginxæ•™ç¨‹/index.html"},
                {id: "Redis", name: "Redis", category: "å·¥å…·éƒ¨ç½²", level: 4,
                 description: "å†…å­˜æ•°æ®åº“ç¼“å­˜", 
                 link: "../Redisç¼“å­˜ä¸æ•°æ®åº“æ•°æ®ä¸ä¸€è‡´/index.html"},
                
                // å®‰å…¨ä¸è®¤è¯å±‚
                {id: "Security", name: "Spring Security", category: "æ¡†æ¶æŠ€æœ¯", level: 4,
                 description: "Springå®‰å…¨æ¡†æ¶ï¼Œè®¤è¯ä¸æˆæƒ", 
                 link: "../SpringSecurityæ•™ç¨‹/index.html"},
                {id: "SSO", name: "å•ç‚¹ç™»å½•", category: "Webå¼€å‘", level: 5,
                 description: "Single Sign-Onå•ç‚¹ç™»å½•", 
                 link: "../å•ç‚¹ç™»å½•æ•™ç¨‹/index.html"},
                {id: "WebSecurity", name: "Webå®‰å…¨", category: "Webå¼€å‘", level: 4,
                 description: "Webåº”ç”¨å®‰å…¨é˜²æŠ¤", 
                 link: "../Webå®‰å…¨æ•™ç¨‹/index.html"},
                {id: "HTTPS", name: "HTTPS", category: "Webå¼€å‘", level: 3,
                 description: "å®‰å…¨è¶…æ–‡æœ¬ä¼ è¾“åè®®", 
                 link: "../HTTPSæ•™ç¨‹/index.html"},
                
                // æ¶ˆæ¯é˜Ÿåˆ—ä¸å¼‚æ­¥é€šä¿¡
                {id: "RabbitMQ", name: "RabbitMQ", category: "å¾®æœåŠ¡", level: 5,
                 description: "æ¶ˆæ¯é˜Ÿåˆ—ä¸­é—´ä»¶", 
                 link: "../RabbitMQæ•™ç¨‹/index.html"},
                {id: "WebSocket", name: "WebSocket", category: "Webå¼€å‘", level: 4,
                 description: "å…¨åŒå·¥é€šä¿¡åè®®", 
                 link: "../WebSocketæ•™ç¨‹/index.html"},
                
                // ç¼“å­˜ä¸æ€§èƒ½ä¼˜åŒ–
                {id: "Cache", name: "ç¼“å­˜æŠ€æœ¯", category: "æ•°æ®å¤„ç†", level: 4,
                 description: "å¤šçº§ç¼“å­˜æ¶æ„", 
                 link: "../å¤šçº§ç¼“å­˜æ•™ç¨‹/index.html"},
                {id: "DistributedCache", name: "åˆ†å¸ƒå¼ç¼“å­˜", category: "å¾®æœåŠ¡", level: 5,
                 description: "åˆ†å¸ƒå¼ç¼“å­˜æ¶æ„", 
                 link: "../åˆ†å¸ƒå¼ç¼“å­˜/index.html"},
                {id: "DistributedLock", name: "åˆ†å¸ƒå¼é”", category: "å¾®æœåŠ¡", level: 5,
                 description: "åˆ†å¸ƒå¼ç¯å¢ƒä¸‹çš„å¹¶å‘æ§åˆ¶", 
                 link: "../åˆ†å¸ƒå¼é”/index.html"},
                
                // é«˜å¹¶å‘åœºæ™¯
                {id: "Seckill", name: "ç§’æ€ç³»ç»Ÿ", category: "å¾®æœåŠ¡", level: 6,
                 description: "é«˜å¹¶å‘ç§’æ€ä¸šåŠ¡åœºæ™¯", 
                 link: "../ç§’æ€/index.html"},
                {id: "Ranking", name: "æ’è¡Œæ¦œ", category: "å¾®æœåŠ¡", level: 5,
                 description: "å®æ—¶æ’è¡Œæ¦œç³»ç»Ÿ", 
                 link: "../æ’è¡Œæ¦œ/index.html"},
                
                // æµ‹è¯•ä¸è´¨é‡ä¿è¯
                {id: "Testing", name: "è½¯ä»¶æµ‹è¯•", category: "å·¥å…·éƒ¨ç½²", level: 3,
                 description: "Java Webåº”ç”¨æµ‹è¯•", 
                 link: "../è½¯ä»¶æµ‹è¯•æ•™ç¨‹/index.html"},
                {id: "SonarQube", name: "ä»£ç è´¨é‡", category: "å·¥å…·éƒ¨ç½²", level: 3,
                 description: "ä»£ç è´¨é‡æ£€æµ‹ä¸åˆ†æ", 
                 link: "../SonarQubeæ•™ç¨‹/index.html"}
            ],
            
            // å®šä¹‰èŠ‚ç‚¹é—´çš„è¯­ä¹‰å…³ç³»
            links: [
                // Javaæ ¸å¿ƒä¾èµ–å…³ç³»
                {source: "Java", target: "OOP", relation: "åŸºäº", type: "implements"},
                {source: "Java", target: "JVM", relation: "è¿è¡Œäº", type: "runsOn"},
                {source: "OOP", target: "Collection", relation: "åŒ…å«", type: "contains"},
                {source: "Java", target: "Thread", relation: "æ”¯æŒ", type: "supports"},
                {source: "Java", target: "Reflection", relation: "æä¾›", type: "provides"},
                {source: "Java", target: "Annotation", relation: "æ”¯æŒ", type: "supports"},
                
                // Webå¼€å‘å…³ç³»
                {source: "Java", target: "Servlet", relation: "æ‰©å±•ä¸º", type: "extends"},
                {source: "HTTP", target: "Servlet", relation: "å®ç°", type: "implements"},
                {source: "Servlet", target: "JSP", relation: "é›†æˆ", type: "integrates"},
                {source: "Servlet", target: "Filter", relation: "ä½¿ç”¨", type: "uses"},
                {source: "HTTP", target: "Session", relation: "ç®¡ç†", type: "manages"},
                {source: "JSP", target: "AJAX", relation: "æ”¯æŒ", type: "supports"},
                {source: "AJAX", target: "JSON", relation: "ä¼ è¾“", type: "transfers"},
                
                // æ•°æ®å¤„ç†å…³ç³»
                {source: "Java", target: "JDBC", relation: "æä¾›", type: "provides"},
                {source: "JDBC", target: "MySQL", relation: "è¿æ¥", type: "connects"},
                {source: "JDBC", target: "MyBatis", relation: "å°è£…ä¸º", type: "wrappedBy"},
                {source: "JDBC", target: "Transaction", relation: "æ”¯æŒ", type: "supports"},
                {source: "JDBC", target: "ConnectionPool", relation: "ä¼˜åŒ–ä¸º", type: "optimizedBy"},
                
                // Springæ¡†æ¶å…³ç³»
                {source: "Reflection", target: "IoC", relation: "å®ç°åŸºç¡€", type: "enables"},
                {source: "Annotation", target: "IoC", relation: "é…ç½®æ–¹å¼", type: "configures"},
                {source: "IoC", target: "Spring", relation: "æ ¸å¿ƒç‰¹æ€§", type: "coreFeature"},
                {source: "AOP", target: "Spring", relation: "æ ¸å¿ƒç‰¹æ€§", type: "coreFeature"},
                {source: "Spring", target: "SpringMVC", relation: "åŒ…å«", type: "contains"},
                {source: "Servlet", target: "SpringMVC", relation: "åŸºäº", type: "basedOn"},
                {source: "Spring", target: "SpringBoot", relation: "ç®€åŒ–ä¸º", type: "simplifiedBy"},
                {source: "Annotation", target: "AutoConfig", relation: "é©±åŠ¨", type: "drives"},
                {source: "MyBatis", target: "Spring", relation: "é›†æˆ", type: "integrates"},
                {source: "Spring", target: "SSM", relation: "ç»„æˆ", type: "composes"},
                {source: "SpringMVC", target: "SSM", relation: "ç»„æˆ", type: "composes"},
                {source: "MyBatis", target: "SSM", relation: "ç»„æˆ", type: "composes"},
                
                // å¾®æœåŠ¡å…³ç³»
                {source: "SpringBoot", target: "Microservices", relation: "æ”¯æŒ", type: "supports"},
                {source: "Microservices", target: "SpringCloud", relation: "å®ç°æ¡†æ¶", type: "implementedBy"},
                {source: "SpringCloud", target: "Eureka", relation: "åŒ…å«", type: "contains"},
                {source: "SpringCloud", target: "Ribbon", relation: "åŒ…å«", type: "contains"},
                {source: "SpringCloud", target: "Hystrix", relation: "åŒ…å«", type: "contains"},
                {source: "SpringCloud", target: "Gateway", relation: "åŒ…å«", type: "contains"},
                {source: "SpringCloud", target: "Config", relation: "åŒ…å«", type: "contains"},
                {source: "Eureka", target: "Ribbon", relation: "é…åˆ", type: "collaborates"},
                {source: "Ribbon", target: "Hystrix", relation: "ä¿æŠ¤", type: "protects"},
                
                // å·¥å…·é›†æˆå…³ç³»
                {source: "Maven", target: "SpringBoot", relation: "æ„å»º", type: "builds"},
                {source: "Git", target: "Maven", relation: "ç®¡ç†", type: "manages"},
                {source: "Docker", target: "Microservices", relation: "éƒ¨ç½²", type: "deploys"},
                {source: "Nginx", target: "SpringBoot", relation: "ä»£ç†", type: "proxies"},
                {source: "Redis", target: "Session", relation: "å­˜å‚¨", type: "stores"},
                {source: "Redis", target: "SpringBoot", relation: "ç¼“å­˜", type: "caches"},
                
                // å®‰å…¨ä¸è®¤è¯å…³ç³»
                {source: "Spring", target: "Security", relation: "é›†æˆ", type: "integrates"},
                {source: "Security", target: "SSO", relation: "å®ç°", type: "implements"},
                {source: "HTTPS", target: "WebSecurity", relation: "ä¿éšœ", type: "secures"},
                {source: "HTTP", target: "HTTPS", relation: "å‡çº§ä¸º", type: "upgrades"},
                
                // æ¶ˆæ¯é˜Ÿåˆ—å…³ç³»
                {source: "SpringBoot", target: "RabbitMQ", relation: "é›†æˆ", type: "integrates"},
                {source: "Microservices", target: "RabbitMQ", relation: "ä½¿ç”¨", type: "uses"},
                {source: "HTTP", target: "WebSocket", relation: "å‡çº§ä¸º", type: "upgrades"},
                
                // ç¼“å­˜ä¸æ€§èƒ½å…³ç³»
                {source: "Redis", target: "Cache", relation: "å®ç°", type: "implements"},
                {source: "Cache", target: "DistributedCache", relation: "æ‰©å±•ä¸º", type: "extends"},
                {source: "Redis", target: "DistributedLock", relation: "å®ç°", type: "implements"},
                {source: "DistributedCache", target: "Seckill", relation: "æ”¯æŒ", type: "supports"},
                {source: "DistributedLock", target: "Seckill", relation: "ä¿æŠ¤", type: "protects"},
                {source: "Redis", target: "Ranking", relation: "å®ç°", type: "implements"},
                
                // æµ‹è¯•è´¨é‡å…³ç³»
                {source: "SpringBoot", target: "Testing", relation: "æ”¯æŒ", type: "supports"},
                {source: "Maven", target: "SonarQube", relation: "é›†æˆ", type: "integrates"},
                
                // Spring Bootç”Ÿæ€å…³ç³»
                {source: "SpringBoot", target: "Thymeleaf", relation: "é›†æˆ", type: "integrates"},
                {source: "SpringBoot", target: "Pay", relation: "æ”¯æŒ", type: "supports"},
                {source: "SpringMVC", target: "RESTful", relation: "å®ç°", type: "implements"},
                {source: "Session", target: "UserActivation", relation: "ç®¡ç†", type: "manages"},
                
                // å¼€å‘å·¥å…·å…³ç³»
                {source: "HTTP", target: "Fiddler", relation: "è°ƒè¯•å·¥å…·", type: "debuggedBy"},
                {source: "Git", target: "Scrum", relation: "é…åˆ", type: "collaborates"}
            ]
        };
        
        // é¢œè‰²æ˜ å°„
        const colorMap = {
            "æ ¸å¿ƒè¯­è¨€": "#ff6b6b",
            "Webå¼€å‘": "#4ecdc4", 
            "æ•°æ®å¤„ç†": "#45b7d1",
            "æ¡†æ¶æŠ€æœ¯": "#96ceb4",
            "å¾®æœåŠ¡": "#feca57",
            "å·¥å…·éƒ¨ç½²": "#ff9ff3"
        };
        
        // å…³ç³»ç±»å‹é¢œè‰²
        const relationColors = {
            "implements": "#e74c3c",
            "extends": "#f39c12", 
            "contains": "#2ecc71",
            "uses": "#3498db",
            "supports": "#9b59b6"
        };
        
        // åˆ›å»ºSVGç”»å¸ƒ
        const width = window.innerWidth;
        const height = window.innerHeight - 80;
        
        const svg = document.createElement('div');
        svg.innerHTML = `
            <svg width="${width}" height="${height}" style="background: transparent;">
                <defs>
                    <marker id="arrowhead" markerWidth="10" markerHeight="7" 
                     refX="9" refY="3.5" orient="auto">
                        <polygon points="0 0, 10 3.5, 0 7" fill="#999" />
                    </marker>
                </defs>
                <g class="zoom-container"></g>
            </svg>
        `;
        document.getElementById('knowledge-graph').appendChild(svg.firstElementChild);
        
        // ç¼©æ”¾å’Œå¹³ç§»çŠ¶æ€
        let currentScale = 1;
        let currentTranslateX = 0;
        let currentTranslateY = 0;
        let isDragging = false;
        let dragStart = {x: 0, y: 0};
        
        const svgElement = document.querySelector('#knowledge-graph svg');
        const zoomContainer = document.querySelector('.zoom-container');
        
        // ä½¿ç”¨åŸç”ŸJavaScriptå®ç°ç®€åŒ–ç‰ˆåŠ›å¯¼å‘å›¾
        let nodes = [...knowledgeData.nodes];
        let links = [...knowledgeData.links];
        
        // å›ºå®šèŠ‚ç‚¹ä½ç½® - æ ¹æ®ç±»åˆ«å’Œå±‚çº§è®¡ç®—
        function initializeFixedPositions() {
            const categories = ["æ ¸å¿ƒè¯­è¨€", "Webå¼€å‘", "æ•°æ®å¤„ç†", "æ¡†æ¶æŠ€æœ¯", "å¾®æœåŠ¡", "å·¥å…·éƒ¨ç½²"];
            const categoryPositions = {
                "æ ¸å¿ƒè¯­è¨€": {centerX: width * 0.2, centerY: height * 0.3, radius: 120},
                "Webå¼€å‘": {centerX: width * 0.5, centerY: height * 0.2, radius: 140},
                "æ•°æ®å¤„ç†": {centerX: width * 0.8, centerY: height * 0.3, radius: 100},
                "æ¡†æ¶æŠ€æœ¯": {centerX: width * 0.3, centerY: height * 0.6, radius: 150},
                "å¾®æœåŠ¡": {centerX: width * 0.7, centerY: height * 0.7, radius: 160},
                "å·¥å…·éƒ¨ç½²": {centerX: width * 0.5, centerY: height * 0.8, radius: 120}
            };
            
            // æŒ‰ç±»åˆ«åˆ†ç»„èŠ‚ç‚¹
            const nodesByCategory = {};
            categories.forEach(cat => nodesByCategory[cat] = []);
            
            nodes.forEach(node => {
                if (nodesByCategory[node.category]) {
                    nodesByCategory[node.category].push(node);
                }
            });
            
            // ä¸ºæ¯ä¸ªç±»åˆ«çš„èŠ‚ç‚¹åˆ†é…å›ºå®šä½ç½®
            Object.keys(nodesByCategory).forEach(category => {
                const categoryNodes = nodesByCategory[category];
                const pos = categoryPositions[category];
                
                if (pos && categoryNodes.length > 0) {
                    categoryNodes.forEach((node, index) => {
                        // æ ¹æ®èŠ‚ç‚¹åœ¨ç±»åˆ«ä¸­çš„ç´¢å¼•å’Œå±‚çº§è®¡ç®—è§’åº¦
                        const angle = (index / categoryNodes.length) * 2 * Math.PI;
                        const levelRadius = pos.radius * (0.3 + node.level * 0.15);
                        
                        // ä½¿ç”¨èŠ‚ç‚¹IDçš„å“ˆå¸Œå€¼ä½œä¸ºç§å­ï¼Œç¡®ä¿ä½ç½®å›ºå®š
                        const hash = node.id.split('').reduce((a, b) => {
                            a = ((a << 5) - a) + b.charCodeAt(0);
                            return a & a;
                        }, 0);
                        const randomOffset = (Math.abs(hash) % 100) / 100;
                        
                        node.x = pos.centerX + Math.cos(angle + randomOffset) * levelRadius;
                        node.y = pos.centerY + Math.sin(angle + randomOffset) * levelRadius;
                        
                        // ç¡®ä¿èŠ‚ç‚¹åœ¨ç”»å¸ƒèŒƒå›´å†…
                        node.x = Math.max(30, Math.min(width - 30, node.x));
                        node.y = Math.max(30, Math.min(height - 30, node.y));
                        
                        node.vx = 0;
                        node.vy = 0;
                    });
                }
            });
        }
        
        initializeFixedPositions();
        
        // åˆ›å»ºèŠ‚ç‚¹å’Œè¿çº¿çš„SVGå…ƒç´ 
        // svgElement å·²åœ¨ä¸Šé¢å®šä¹‰
        
        // æ·»åŠ ç¼©æ”¾å’Œæ‹–æ‹½äº‹ä»¶
        function initializeZoomAndPan() {
            // é¼ æ ‡æ»šè½®ç¼©æ”¾
            svgElement.addEventListener('wheel', (e) => {
                e.preventDefault();
                const rect = svgElement.getBoundingClientRect();
                const mouseX = e.clientX - rect.left;
                const mouseY = e.clientY - rect.top;
                
                const scaleFactor = e.deltaY > 0 ? 0.9 : 1.1;
                const newScale = Math.max(0.3, Math.min(3, currentScale * scaleFactor));
                
                if (newScale !== currentScale) {
                    const scaleChange = newScale / currentScale;
                    currentTranslateX = mouseX - (mouseX - currentTranslateX) * scaleChange;
                    currentTranslateY = mouseY - (mouseY - currentTranslateY) * scaleChange;
                    currentScale = newScale;
                    updateTransform();
                }
            });
            
            // é¼ æ ‡æ‹–æ‹½å¹³ç§»
            svgElement.addEventListener('mousedown', (e) => {
                if (e.target === svgElement || e.target.classList.contains('zoom-container')) {
                    isDragging = true;
                    dragStart.x = e.clientX - currentTranslateX;
                    dragStart.y = e.clientY - currentTranslateY;
                    svgElement.style.cursor = 'grabbing';
                }
            });
            
            document.addEventListener('mousemove', (e) => {
                if (isDragging) {
                    currentTranslateX = e.clientX - dragStart.x;
                    currentTranslateY = e.clientY - dragStart.y;
                    updateTransform();
                }
            });
            
            document.addEventListener('mouseup', () => {
                isDragging = false;
                svgElement.style.cursor = 'default';
            });
        }
        
        function updateTransform() {
            zoomContainer.setAttribute('transform', 
                `translate(${currentTranslateX}, ${currentTranslateY}) scale(${currentScale})`);
        }

        function initializeGraph() {
            // æ¸…ç©ºç°æœ‰å…ƒç´ 
            zoomContainer.querySelectorAll('.link, .node, .label').forEach(el => el.remove());
            
            // åˆ›å»ºè¿çº¿
            links.forEach(link => {
                const line = document.createElementNS('http://www.w3.org/2000/svg', 'line');
                line.setAttribute('class', 'link');
                line.setAttribute('stroke', relationColors[link.type] || '#999');
                line.setAttribute('stroke-width', '2');
                line.setAttribute('opacity', '0.6');
                line.setAttribute('marker-end', 'url(#arrowhead)');
                zoomContainer.appendChild(line);
                link.element = line;
            });
            
            // åˆ›å»ºèŠ‚ç‚¹
            nodes.forEach(node => {
                const circle = document.createElementNS('http://www.w3.org/2000/svg', 'circle');
                circle.setAttribute('class', 'node');
                circle.setAttribute('r', 8 + node.level * 2);
                circle.setAttribute('fill', colorMap[node.category]);
                circle.setAttribute('stroke', '#fff');
                circle.setAttribute('stroke-width', '2');
                circle.style.cursor = 'pointer';
                
                // æ·»åŠ äº‹ä»¶ç›‘å¬
                circle.addEventListener('mouseenter', (e) => showTooltip(e, node));
                circle.addEventListener('mouseleave', hideTooltip);
                circle.addEventListener('click', (e) => {
                    e.stopPropagation();
                    if (node.link) {
                        window.open(node.link, '_blank');
                    } else {
                        showNodeInfo(node);
                    }
                });
                
                zoomContainer.appendChild(circle);
                node.element = circle;
                
                // åˆ›å»ºæ ‡ç­¾
                const text = document.createElementNS('http://www.w3.org/2000/svg', 'text');
                text.setAttribute('class', 'label');
                text.setAttribute('text-anchor', 'middle');
                text.setAttribute('dy', '0.35em');
                text.setAttribute('font-size', '10px');
                text.setAttribute('fill', 'white');
                text.setAttribute('font-weight', 'bold');
                text.style.pointerEvents = 'none';
                text.textContent = node.name;
                zoomContainer.appendChild(text);
                node.labelElement = text;
            });
            
            // å¼€å§‹åŠ›å¯¼å‘å¸ƒå±€åŠ¨ç”»
            startSimulation();
        }
        
        function startSimulation() {
            let alpha = 0.3; // é™ä½åˆå§‹å¼ºåº¦ï¼Œå› ä¸ºå·²æœ‰å›ºå®šå¸ƒå±€
            const alphaDecay = 0.05; // åŠ å¿«æ”¶æ•›é€Ÿåº¦
            
            function tick() {
                // åŠ›è®¡ç®—
                applyForces();
                
                // æ›´æ–°ä½ç½®
                updatePositions();
                
                alpha *= (1 - alphaDecay);
                if (alpha > 0.005) { // æ›´æ—©åœæ­¢åŠ¨ç”»
                    requestAnimationFrame(tick);
                }
            }
            
            tick();
        }
        
        function applyForces() {
            // è½»å¾®çš„ä¸­å¿ƒå¼•åŠ›ï¼Œä¿æŒæ•´ä½“å¸ƒå±€
            const centerX = width / 2;
            const centerY = height / 2;
            
            nodes.forEach(node => {
                node.vx += (centerX - node.x) * 0.00005; // å‡å¼±ä¸­å¿ƒå¼•åŠ›
                node.vy += (centerY - node.y) * 0.00005;
            });
            
            // èŠ‚ç‚¹é—´æ’æ–¥åŠ› - é˜²æ­¢é‡å 
            for (let i = 0; i < nodes.length; i++) {
                for (let j = i + 1; j < nodes.length; j++) {
                    const a = nodes[i];
                    const b = nodes[j];
                    const dx = b.x - a.x;
                    const dy = b.y - a.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    
                    if (distance < 80) { // å‡å°æ’æ–¥èŒƒå›´
                        const force = 200 / (distance * distance); // å‡å¼±æ’æ–¥åŠ›
                        const fx = (dx / distance) * force;
                        const fy = (dy / distance) * force;
                        
                        a.vx -= fx;
                        a.vy -= fy;
                        b.vx += fx;
                        b.vy += fy;
                    }
                }
            }
            
            // è¿çº¿å¼•åŠ› - ä¿æŒè¿æ¥å…³ç³»
            links.forEach(link => {
                const source = nodes.find(n => n.id === link.source);
                const target = nodes.find(n => n.id === link.target);
                
                if (source && target) {
                    const dx = target.x - source.x;
                    const dy = target.y - source.y;
                    const distance = Math.sqrt(dx * dx + dy * dy);
                    const force = distance * 0.0005; // å‡å¼±è¿çº¿å¼•åŠ›
                    
                    const fx = (dx / distance) * force;
                    const fy = (dy / distance) * force;
                    
                    source.vx += fx;
                    source.vy += fy;
                    target.vx -= fx;
                    target.vy -= fy;
                }
            });
        }
        
        function updatePositions() {
            nodes.forEach(node => {
                node.vx *= 0.9; // é˜»å°¼
                node.vy *= 0.9;
                
                node.x += node.vx;
                node.y += node.vy;
                
                // è¾¹ç•Œæ£€æŸ¥
                node.x = Math.max(20, Math.min(width - 20, node.x));
                node.y = Math.max(20, Math.min(height - 20, node.y));
                
                // æ›´æ–°SVGå…ƒç´ ä½ç½®
                if (node.element) {
                    node.element.setAttribute('cx', node.x);
                    node.element.setAttribute('cy', node.y);
                }
                if (node.labelElement) {
                    node.labelElement.setAttribute('x', node.x);
                    node.labelElement.setAttribute('y', node.y);
                }
            });
            
            // æ›´æ–°è¿çº¿
            links.forEach(link => {
                const source = nodes.find(n => n.id === link.source);
                const target = nodes.find(n => n.id === link.target);
                
                if (source && target && link.element) {
                    link.element.setAttribute('x1', source.x);
                    link.element.setAttribute('y1', source.y);
                    link.element.setAttribute('x2', target.x);
                    link.element.setAttribute('y2', target.y);
                }
            });
        }
        
        function showTooltip(event, node) {
            const tooltip = document.getElementById('tooltip');
            tooltip.style.display = 'block';
            tooltip.style.left = (event.pageX + 10) + 'px';
            tooltip.style.top = (event.pageY - 10) + 'px';
            tooltip.innerHTML = `
                <strong>${node.name}</strong><br>
                åˆ†ç±»: ${node.category}<br>
                å±‚çº§: ${node.level}<br>
                ${node.description}
            `;
        }
        
        function hideTooltip() {
            document.getElementById('tooltip').style.display = 'none';
        }
        
        function showNodeInfo(node) {
            const panel = document.getElementById('info-panel');
            document.getElementById('node-title').textContent = node.name;
            document.getElementById('node-description').textContent = node.description;
            
            // æ˜¾ç¤ºç›¸å…³è¿æ¥
            const relations = links.filter(link => 
                link.source === node.id || link.target === node.id
            );
            
            const relationsHtml = relations.map(link => {
                const isSource = link.source === node.id;
                const otherNode = isSource ? link.target : link.source;
                const direction = isSource ? 'â†’' : 'â†';
                return `<div>${direction} ${link.relation} ${otherNode}</div>`;
            }).join('');
            
            document.getElementById('node-relations').innerHTML = 
                `<h5>å…³ç³»è¿æ¥:</h5>${relationsHtml}`;
            
            panel.style.display = 'block';
            
            // 5ç§’åè‡ªåŠ¨éšè—
            setTimeout(() => {
                panel.style.display = 'none';
            }, 5000);
        }
        
        function filterByCategory(category) {
            // æ›´æ–°æŒ‰é’®çŠ¶æ€
            document.querySelectorAll('.control-btn').forEach(btn => 
                btn.classList.remove('active'));
            event.target.classList.add('active');
            
            // è¿‡æ»¤æ˜¾ç¤º
            nodes.forEach(node => {
                const show = node.category === category;
                node.element.style.display = show ? 'block' : 'none';
                node.labelElement.style.display = show ? 'block' : 'none';
            });
            
            links.forEach(link => {
                const sourceNode = nodes.find(n => n.id === link.source);
                const targetNode = nodes.find(n => n.id === link.target);
                const show = sourceNode.category === category && 
                           targetNode.category === category;
                link.element.style.display = show ? 'block' : 'none';
            });
        }
        
        function showAllNodes() {
            document.querySelectorAll('.control-btn').forEach(btn => 
                btn.classList.remove('active'));
            event.target.classList.add('active');
            
            nodes.forEach(node => {
                node.element.style.display = 'block';
                node.labelElement.style.display = 'block';
            });
            
            links.forEach(link => {
                link.element.style.display = 'block';
            });
        }
        
        function resetGraph() {
            // é‡ç½®åˆ°å›ºå®šçš„åˆå§‹ä½ç½®
            initializeFixedPositions();
            
            // é‡ç½®ç¼©æ”¾å’Œå¹³ç§»
            currentScale = 1;
            currentTranslateX = 0;
            currentTranslateY = 0;
            updateTransform();
            
            // é‡æ–°å¼€å§‹å¸ƒå±€åŠ¨ç”»
            startSimulation();
        }
        
        // åˆå§‹åŒ–å›¾è°±
        initializeGraph();
        initializeZoomAndPan();
        
        // å“åº”å¼å¤„ç†
        window.addEventListener('resize', () => {
            location.reload();
        });
    </script>
</body>
</html> 